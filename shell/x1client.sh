#! /bin/sh

host=$1
port=$2
delay=$3

if [ "$host" = "" ] || [ "$port" = "" ]; then
	echo "Usage : $0 host port"
	exit
fi

if [ "$delay" = "" ]; then
	delay=30;
fi

echo "Sending GPS datas to host -$host- at port -$port-"

# telnet hs been removed for nc (Netcat)
nc -i "$delay" $1 $2 <<EOF
úø123456devicetest,20100916111000,3.119580,50.247906,0,186,119,8,11,1,0,102147.3
devicetest,20100916111030,3.1218338012695312,50.24886519541686,15,186,119,8,11,1,0,102147.3
devicetest,20100916111100,3.1229281425476074,50.25064891792815,15,186,119,8,11,1,0,102147.3
devicetest,20100916111130,3.121662139892578,50.251581915414675,15,186,119,8,11,1,0,102147.3
devicetest,20100916111200,3.1238293647766113,50.252185609936106,15,186,119,8,11,1,0,102147.3
devicetest,20100916111230,3.127155303955078,50.255217687187965,15,186,119,8,11,1,0,102147.3
devicetest,20100916111300,3.134150505065918,50.25848278536539,15,186,119,8,11,1,0,102147.3
devicetest,20100916111330,3.1405019760131836,50.26078742582048,15,186,119,8,11,1,0,102147.3
devicetest,20100916111400,3.1452012062072754,50.25948422021387,15,186,119,8,11,1,0,102147.3
devicetest,20100916111430,3.155221939086914,50.25842791161462,15,186,119,8,11,1,0,102147.3
devicetest,20100916111500,3.1587839126586914,50.257645953798274,15,186,119,8,11,1,0,102147.3
devicetest,20100916111530,3.15981388092041,50.26218661741301,15,186,119,8,11,1,0,102147.3
devicetest,20100916111600,3.157625198364258,50.264436211846174,15,186,119,8,11,1,0,102147.3
devicetest,20100916111630,3.1540632247924805,50.26726177137834,15,186,119,8,11,1,0,102147.3
devicetest,20100916111700,3.155243396759033,50.26785155149187,0,186,119,8,11,1,0,102147.3
devicetest,20100916112500,3.155243396759033,50.26785155149187,0,186,119,8,11,1,0,102147.3
devicetest,20100916112500,3.155243396759033,50.26785155149187,0,186,119,8,11,1,0,102147.3
devicetest,20100916112500,3.155243396759033,50.26785155149187,0,186,119,8,11,1,0,102147.3
devicetest,20100916112500,3.155243396759033,50.26785155149187,0,186,119,8,11,1,0,102147.3
devicetest,20100916113500,3.155243396759033,50.26785155149187,0,186,119,8,11,1,0,102147.3
devicetest,20100916113530,3.1540632247924805,50.26726177137834,15,186,119,8,11,1,0,102147.3
devicetest,20100916113600,3.157625198364258,50.264436211846174,15,186,119,8,11,1,0,102147.3
devicetest,20100916113630,3.15981388092041,50.26218661741301,15,186,119,8,11,1,0,102147.3
devicetest,20100916113700,3.1587839126586914,50.257645953798274,15,186,119,8,11,1,0,102147.3
devicetest,20100916113730,3.155221939086914,50.25842791161462,15,186,119,8,11,1,0,102147.3
devicetest,20100916113800,3.1452012062072754,50.25948422021387,15,186,119,8,11,1,0,102147.3
devicetest,20100916113830,3.1405019760131836,50.26078742582048,15,186,119,8,11,1,0,102147.3
devicetest,20100916113900,3.134150505065918,50.25848278536539,15,186,119,8,11,1,0,102147.3
devicetest,20100916113930,3.127155303955078,50.255217687187965,15,186,119,8,11,1,0,102147.3
devicetest,20100916114000,3.1238293647766113,50.252185609936106,15,186,119,8,11,1,0,102147.3
devicetest,20100916114030,3.121662139892578,50.251581915414675,15,186,119,8,11,1,0,102147.3
devicetest,20100916114100,3.1229281425476074,50.25064891792815,15,186,119,8,11,1,0,102147.3
devicetest,20100916114130,3.1218338012695312,50.24886519541686,15,186,119,8,11,1,0,102147.3
devicetest,20100916111111,3.1194090843200684,50.24783609436576,0,186,119,8,11,1,0,102147.3
end
EOF

